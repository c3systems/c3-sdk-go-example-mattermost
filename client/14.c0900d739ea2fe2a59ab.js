(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[14],{

/***/ "./components/login/login_controller/login_controller.jsx":
/*!****************************************************************!*\
  !*** ./components/login/login_controller/login_controller.jsx ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ \"./node_modules/core-js/modules/es7.symbol.async-iterator.js\");\n/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.symbol */ \"./node_modules/core-js/modules/es6.symbol.js\");\n/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.function.name */ \"./node_modules/core-js/modules/es6.function.name.js\");\n/* harmony import */ var core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.regexp.match */ \"./node_modules/core-js/modules/es6.regexp.match.js\");\n/* harmony import */ var core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.regexp.search */ \"./node_modules/core-js/modules/es6.regexp.search.js\");\n/* harmony import */ var core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.regexp.replace */ \"./node_modules/core-js/modules/es6.regexp.replace.js\");\n/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-intl */ \"./node_modules/react-intl/lib/index.es.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/es/index.js\");\n/* harmony import */ var mattermost_redux_client__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! mattermost-redux/client */ \"./node_modules/mattermost-redux/client/index.js\");\n/* harmony import */ var mattermost_redux_client__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(mattermost_redux_client__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var actions_global_actions_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! actions/global_actions.jsx */ \"./actions/global_actions.jsx\");\n/* harmony import */ var actions_team_actions_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! actions/team_actions.jsx */ \"./actions/team_actions.jsx\");\n/* harmony import */ var actions_user_actions_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! actions/user_actions.jsx */ \"./actions/user_actions.jsx\");\n/* harmony import */ var stores_local_storage_store__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! stores/local_storage_store */ \"./stores/local_storage_store.jsx\");\n/* harmony import */ var utils_browser_history__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! utils/browser_history */ \"./utils/browser_history.jsx\");\n/* harmony import */ var utils_constants_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! utils/constants.jsx */ \"./utils/constants.jsx\");\n/* harmony import */ var utils_message_html_to_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! utils/message_html_to_component */ \"./utils/message_html_to_component.jsx\");\n/* harmony import */ var utils_text_formatting_jsx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! utils/text_formatting.jsx */ \"./utils/text_formatting.jsx\");\n/* harmony import */ var utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! utils/utils.jsx */ \"./utils/utils.jsx\");\n/* harmony import */ var utils_notifications_jsx__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! utils/notifications.jsx */ \"./utils/notifications.jsx\");\n/* harmony import */ var utils_i18n_jsx__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! utils/i18n.jsx */ \"./utils/i18n.jsx\");\n/* harmony import */ var images_logo_png__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! images/logo.png */ \"./images/logo.png\");\n/* harmony import */ var images_logo_png__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(images_logo_png__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var components_common_site_name_and_description__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! components/common/site_name_and_description */ \"./components/common/site_name_and_description.jsx\");\n/* harmony import */ var components_announcement_bar__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! components/announcement_bar */ \"./components/announcement_bar/index.js\");\n/* harmony import */ var components_form_error_jsx__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! components/form_error.jsx */ \"./components/form_error.jsx\");\n/* harmony import */ var components_formatted_markdown_message_jsx__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! components/formatted_markdown_message.jsx */ \"./components/formatted_markdown_message.jsx\");\n/* harmony import */ var components_common_back_button_jsx__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! components/common/back_button.jsx */ \"./components/common/back_button.jsx\");\n/* harmony import */ var components_loading_screen_jsx__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! components/loading_screen.jsx */ \"./components/loading_screen.jsx\");\n/* harmony import */ var _login_mfa_jsx__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../login_mfa.jsx */ \"./components/login/login_mfa.jsx\");\n\n\n\n\n\n\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar LoginController =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginController, _React$Component);\n\n  _createClass(LoginController, null, [{\n    key: \"propTypes\",\n    get: function get() {\n      return {\n        intl: react_intl__WEBPACK_IMPORTED_MODULE_8__[\"intlShape\"].isRequired,\n        location: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.object.isRequired,\n        isLicensed: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool.isRequired,\n        currentUser: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.object,\n        customBrandText: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string,\n        customDescriptionText: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string,\n        enableCustomBrand: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool.isRequired,\n        enableLdap: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool.isRequired,\n        enableOpenServer: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool.isRequired,\n        enableSaml: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool.isRequired,\n        enableSignInWithEmail: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool.isRequired,\n        enableSignInWithUsername: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool.isRequired,\n        enableSignUpWithEmail: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool.isRequired,\n        enableSignUpWithGitLab: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool.isRequired,\n        enableSignUpWithGoogle: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool.isRequired,\n        enableSignUpWithOffice365: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool.isRequired,\n        experimentalPrimaryTeam: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string,\n        ldapLoginFieldName: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string,\n        samlLoginButtonText: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string,\n        siteName: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string,\n        initializing: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool,\n        actions: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.shape({\n          login: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.func.isRequired\n        }).isRequired\n      };\n    }\n  }]);\n\n  function LoginController(props) {\n    var _this;\n\n    _classCallCheck(this, LoginController);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginController).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"configureTitle\", function () {\n      if (_this.state.sessionExpired) {\n        document.title = _this.props.intl.formatMessage({\n          id: 'login.session_expired.title',\n          defaultMessage: '* {siteName} - Session Expired'\n        }, {\n          siteName: _this.props.siteName\n        });\n      } else {\n        document.title = _this.props.siteName;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"showSessionExpiredNotificationIfNeeded\", function () {\n      if (_this.state.sessionExpired && !_this.closeSessionExpiredNotification) {\n        Object(utils_notifications_jsx__WEBPACK_IMPORTED_MODULE_20__[\"showNotification\"])({\n          title: _this.props.siteName,\n          body: utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('login.session_expired.notification', 'Session Expired: Please sign in to continue receiving notifications.'),\n          requireInteraction: true,\n          silent: false,\n          onClick: function onClick() {\n            window.focus();\n\n            if (_this.closeSessionExpiredNotification()) {\n              _this.closeSessionExpiredNotification();\n\n              _this.closeSessionExpiredNotification = null;\n            }\n          }\n        }).then(function (closeNotification) {\n          _this.closeSessionExpiredNotification = closeNotification;\n        }).catch(function () {// Ignore the failure to display the notification.\n        });\n      } else if (!_this.state.sessionExpired && _this.closeSessionExpiredNotification) {\n        _this.closeSessionExpiredNotification();\n\n        _this.closeSessionExpiredNotification = null;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"preSubmit\", function (e) {\n      e.preventDefault();\n      var location = _this.props.location;\n      var newQuery = location.search.replace(/(extra=password_change)&?/i, '');\n\n      if (newQuery !== location.search) {\n        utils_browser_history__WEBPACK_IMPORTED_MODULE_15__[\"browserHistory\"].replace(\"\".concat(location.pathname).concat(newQuery).concat(location.hash));\n      } // password managers don't always call onInput handlers for form fields so it's possible\n      // for the state to get out of sync with what the user sees in the browser\n\n\n      var loginId = _this.refs.loginId.value;\n\n      if (loginId !== _this.state.loginId) {\n        _this.setState({\n          loginId: loginId\n        });\n      }\n\n      var password = _this.refs.password.value;\n\n      if (password !== _this.state.password) {\n        _this.setState({\n          password: password\n        });\n      } // don't trim the password since we support spaces in passwords\n\n\n      loginId = loginId.trim().toLowerCase();\n\n      if (!loginId) {\n        Object(utils_i18n_jsx__WEBPACK_IMPORTED_MODULE_21__[\"t\"])('login.noEmail');\n        Object(utils_i18n_jsx__WEBPACK_IMPORTED_MODULE_21__[\"t\"])('login.noEmailLdapUsername');\n        Object(utils_i18n_jsx__WEBPACK_IMPORTED_MODULE_21__[\"t\"])('login.noEmailUsername');\n        Object(utils_i18n_jsx__WEBPACK_IMPORTED_MODULE_21__[\"t\"])('login.noEmailUsernameLdapUsername');\n        Object(utils_i18n_jsx__WEBPACK_IMPORTED_MODULE_21__[\"t\"])('login.noLdapUsername');\n        Object(utils_i18n_jsx__WEBPACK_IMPORTED_MODULE_21__[\"t\"])('login.noUsername');\n        Object(utils_i18n_jsx__WEBPACK_IMPORTED_MODULE_21__[\"t\"])('login.noUsernameLdapUsername'); // it's slightly weird to be constructing the message ID, but it's a bit nicer than triply nested if statements\n\n        var msgId = 'login.no';\n\n        if (_this.state.emailSigninEnabled) {\n          msgId += 'Email';\n        }\n\n        if (_this.state.usernameSigninEnabled) {\n          msgId += 'Username';\n        }\n\n        if (_this.state.ldapEnabled) {\n          msgId += 'LdapUsername';\n        }\n\n        _this.setState({\n          serverError: react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n            id: msgId,\n            values: {\n              ldapUsername: _this.props.ldapLoginFieldName || utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('login.ldapUsernameLower', 'AD/LDAP username')\n            }\n          })\n        });\n\n        return;\n      }\n\n      if (!password) {\n        _this.setState({\n          serverError: react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n            id: \"login.noPassword\",\n            defaultMessage: \"Please enter your password\"\n          })\n        });\n\n        return;\n      }\n\n      Object(actions_user_actions_jsx__WEBPACK_IMPORTED_MODULE_13__[\"checkMfa\"])(loginId, function (requiresMfa) {\n        if (requiresMfa) {\n          _this.setState({\n            showMfa: true\n          });\n        } else {\n          _this.submit(loginId, password, '');\n        }\n      }, function (err) {\n        _this.setState({\n          serverError: err.message\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"submit\", function (loginId, password, token) {\n      _this.setState({\n        serverError: null,\n        loading: true\n      });\n\n      _this.props.actions.login(loginId, password, token).then(function (_ref) {\n        var error = _ref.error;\n\n        if (error) {\n          if (error.id === 'api.user.login.not_verified.app_error') {\n            utils_browser_history__WEBPACK_IMPORTED_MODULE_15__[\"browserHistory\"].push('/should_verify_email?&email=' + encodeURIComponent(loginId));\n          } else if (error.id === 'store.sql_user.get_for_login.app_error' || error.id === 'ent.ldap.do_login.user_not_registered.app_error') {\n            _this.setState({\n              showMfa: false,\n              loading: false,\n              serverError: react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n                id: \"login.userNotFound\",\n                defaultMessage: \"We couldn't find an account matching your login credentials.\"\n              })\n            });\n          } else if (error.id === 'api.user.check_user_password.invalid.app_error' || error.id === 'ent.ldap.do_login.invalid_password.app_error') {\n            _this.setState({\n              showMfa: false,\n              loading: false,\n              serverError: react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n                id: \"login.invalidPassword\",\n                defaultMessage: \"Your password is incorrect.\"\n              })\n            });\n          } else {\n            _this.setState({\n              showMfa: false,\n              serverError: error.message,\n              loading: false\n            });\n          }\n\n          return;\n        } // check for query params brought over from signup_user_complete\n\n\n        var params = new URLSearchParams(_this.props.location.search);\n        var inviteToken = params.get('t') || '';\n        var inviteId = params.get('id') || '';\n\n        if (inviteId || inviteToken) {\n          Object(actions_team_actions_jsx__WEBPACK_IMPORTED_MODULE_12__[\"addUserToTeamFromInvite\"])(inviteToken, inviteId, function (team) {\n            _this.finishSignin(team);\n          }, function () {\n            // there's not really a good way to deal with this, so just let the user log in like normal\n            _this.finishSignin();\n          });\n        } else {\n          _this.finishSignin();\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"finishSignin\", function (team) {\n      var experimentalPrimaryTeam = _this.props.experimentalPrimaryTeam;\n      var query = new URLSearchParams(_this.props.location.search);\n      var redirectTo = query.get('redirect_to'); // Record a successful login to local storage. If an unintentional logout occurs, e.g.\n      // via session expiration, this bit won't get reset and we can notify the user as such.\n\n      stores_local_storage_store__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setWasLoggedIn(true);\n\n      if (redirectTo && redirectTo.match(/^\\/([^/]|$)/)) {\n        utils_browser_history__WEBPACK_IMPORTED_MODULE_15__[\"browserHistory\"].push(redirectTo);\n      } else if (team) {\n        utils_browser_history__WEBPACK_IMPORTED_MODULE_15__[\"browserHistory\"].push(\"/\".concat(team.name));\n      } else if (experimentalPrimaryTeam) {\n        utils_browser_history__WEBPACK_IMPORTED_MODULE_15__[\"browserHistory\"].push(\"/\".concat(experimentalPrimaryTeam, \"/channels/\").concat(utils_constants_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"].DEFAULT_CHANNEL));\n      } else {\n        actions_global_actions_jsx__WEBPACK_IMPORTED_MODULE_11__[\"redirectUserToDefaultTeam\"]();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleLoginIdChange\", function (e) {\n      _this.setState({\n        loginId: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handlePasswordChange\", function (e) {\n      _this.setState({\n        password: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"createCustomLogin\", function () {\n      if (_this.props.enableCustomBrand) {\n        var text = _this.props.customBrandText || '';\n        var formattedText = utils_text_formatting_jsx__WEBPACK_IMPORTED_MODULE_18__[\"formatText\"](text);\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"img\", {\n          src: mattermost_redux_client__WEBPACK_IMPORTED_MODULE_10__[\"Client4\"].getBrandImageUrl(0)\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", null, Object(utils_message_html_to_component__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(formattedText, false, {\n          mentions: false\n        })));\n      }\n\n      return null;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"createLoginPlaceholder\", function () {\n      var ldapEnabled = _this.state.ldapEnabled;\n      var usernameSigninEnabled = _this.state.usernameSigninEnabled;\n      var emailSigninEnabled = _this.state.emailSigninEnabled;\n      var loginPlaceholders = [];\n\n      if (emailSigninEnabled) {\n        loginPlaceholders.push(utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('login.email', 'Email'));\n      }\n\n      if (usernameSigninEnabled) {\n        loginPlaceholders.push(utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('login.username', 'Username'));\n      }\n\n      if (ldapEnabled) {\n        if (_this.props.ldapLoginFieldName) {\n          loginPlaceholders.push(_this.props.ldapLoginFieldName);\n        } else {\n          loginPlaceholders.push(utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('login.ldapUsername', 'AD/LDAP Username'));\n        }\n      }\n\n      if (loginPlaceholders.length >= 2) {\n        return loginPlaceholders.slice(0, loginPlaceholders.length - 1).join(', ') + utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('login.placeholderOr', ' or ') + loginPlaceholders[loginPlaceholders.length - 1];\n      } else if (loginPlaceholders.length === 1) {\n        return loginPlaceholders[0];\n      }\n\n      return '';\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"checkSignUpEnabled\", function () {\n      return _this.props.enableSignUpWithEmail || _this.props.enableSignUpWithGitLab || _this.props.enableSignUpWithOffice365 || _this.props.enableSignUpWithGoogle || _this.props.enableLdap || _this.props.enableSaml;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onDismissSessionExpired\", function () {\n      stores_local_storage_store__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setWasLoggedIn(false);\n\n      _this.setState({\n        sessionExpired: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"createExtraText\", function () {\n      var extraParam = new URLSearchParams(_this.props.location.search).get('extra');\n\n      if (_this.state.sessionExpired) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"alert alert-warning\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"i\", {\n          className: \"fa fa-exclamation-triangle\",\n          title: utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('generic_icons.warning', 'Warning Icon')\n        }), ' ', react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.session_expired\",\n          defaultMessage: \"Your session has expired. Please log in again.\"\n        }), ' ', react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__[\"Link\"], {\n          className: \"btn-close\",\n          to: \"/login\",\n          onClick: _this.onDismissSessionExpired\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", null, '×')));\n      }\n\n      if (extraParam === utils_constants_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"].GET_TERMS_ERROR) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"alert has-error no-padding\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"label\", {\n          className: \"control-label\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.get_terms_error\",\n          defaultMessage: \"Unable to load terms of service. If this issue persists, contact your System Administrator.\"\n        })));\n      } else if (extraParam === utils_constants_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"].TERMS_REJECTED) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"alert alert-warning\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"i\", {\n          className: \"fa fa-exclamation-triangle\",\n          title: utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('generic_icons.warning', 'Warning Icon')\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_formatted_markdown_message_jsx__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n          id: \"login.terms_rejected\",\n          defaultMessage: \"You must agree to the terms of service before accessing {siteName}. Please contact your System Administrator for more details.\",\n          values: {\n            siteName: _this.props.siteName\n          }\n        }));\n      } else if (extraParam === utils_constants_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"].SIGNIN_CHANGE) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"alert alert-success\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"i\", {\n          className: \"fa fa-check\",\n          title: utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('generic_icons.success', 'Success Icon')\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.changed\",\n          defaultMessage: \" Sign-in method changed successfully\"\n        }));\n      } else if (extraParam === utils_constants_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"].SIGNIN_VERIFIED) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"alert alert-success\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"i\", {\n          className: \"fa fa-check\",\n          title: utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('generic_icons.success', 'Success Icon')\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.verified\",\n          defaultMessage: \" Email Verified\"\n        }));\n      } else if (extraParam === utils_constants_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"].PASSWORD_CHANGE) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"alert alert-success\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"i\", {\n          className: \"fa fa-check\",\n          title: utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('generic_icons.success', 'Success Icon')\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.passwordChanged\",\n          defaultMessage: \" Password updated successfully\"\n        }));\n      } else if (extraParam === utils_constants_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"].CREATE_LDAP) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"alert alert-grey\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.ldapCreate\",\n          defaultMessage: \" Enter your AD/LDAP username and password to create an account.\"\n        }));\n      }\n\n      return null;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"createLoginOptions\", function () {\n      var loginControls = [];\n      var ldapEnabled = _this.state.ldapEnabled;\n      var gitlabSigninEnabled = _this.props.enableSignUpWithGitLab;\n      var googleSigninEnabled = _this.props.enableSignUpWithGoogle;\n      var office365SigninEnabled = _this.props.enableSignUpWithOffice365;\n      var samlSigninEnabled = _this.state.samlEnabled;\n      var usernameSigninEnabled = _this.state.usernameSigninEnabled;\n      var emailSigninEnabled = _this.state.emailSigninEnabled;\n\n      if (emailSigninEnabled || usernameSigninEnabled || ldapEnabled) {\n        var errorClass = '';\n\n        if (_this.state.serverError) {\n          errorClass = ' has-error';\n        }\n\n        var loginButton = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.signIn\",\n          defaultMessage: \"Sign in\"\n        });\n\n        if (_this.state.loading) {\n          loginButton = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", {\n            className: \"fa fa-refresh icon--rotate\",\n            title: utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('generic_icons.loading', 'Loading Icon')\n          }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n            id: \"login.signInLoading\",\n            defaultMessage: \"Signing in...\"\n          }));\n        }\n\n        loginControls.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"form\", {\n          key: \"loginBoxes\",\n          onSubmit: _this.preSubmit\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"signup__email-container\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_form_error_jsx__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n          error: _this.state.serverError,\n          margin: true\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: 'form-group' + errorClass\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"input\", {\n          id: \"loginId\",\n          className: \"form-control\",\n          ref: \"loginId\",\n          name: \"loginId\",\n          value: _this.state.loginId,\n          onChange: _this.handleLoginIdChange,\n          placeholder: _this.createLoginPlaceholder(),\n          spellCheck: \"false\",\n          autoCapitalize: \"off\",\n          autoFocus: true\n        })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: 'form-group' + errorClass\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"input\", {\n          id: \"loginPassword\",\n          type: \"password\",\n          className: \"form-control\",\n          ref: \"password\",\n          name: \"password\",\n          value: _this.state.password,\n          onChange: _this.handlePasswordChange,\n          placeholder: utils_utils_jsx__WEBPACK_IMPORTED_MODULE_19__[\"localizeMessage\"]('login.password', 'Password'),\n          spellCheck: \"false\"\n        })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"form-group\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"button\", {\n          id: \"loginButton\",\n          type: \"submit\",\n          className: \"btn btn-primary\"\n        }, loginButton)))));\n      }\n\n      if (_this.props.enableOpenServer && _this.checkSignUpEnabled()) {\n        loginControls.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"form-group\",\n          key: \"signup\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.noAccount\",\n          defaultMessage: \"Don't have an account? \"\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__[\"Link\"], {\n          id: \"signup\",\n          to: '/signup_user_complete' + _this.props.location.search,\n          className: \"signup-team-login\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.create\",\n          defaultMessage: \"Create one now\"\n        })))));\n      }\n\n      if (usernameSigninEnabled || emailSigninEnabled) {\n        loginControls.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          key: \"forgotPassword\",\n          className: \"form-group\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__[\"Link\"], {\n          to: '/reset_password'\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.forgot\",\n          defaultMessage: \"I forgot my password\"\n        }))));\n      }\n\n      if ((emailSigninEnabled || usernameSigninEnabled || ldapEnabled) && (gitlabSigninEnabled || googleSigninEnabled || samlSigninEnabled || office365SigninEnabled)) {\n        loginControls.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          key: \"divider\",\n          className: \"or__container\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.or\",\n          defaultMessage: \"or\"\n        })));\n        loginControls.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h5\", {\n          key: \"oauthHeader\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.signInWith\",\n          defaultMessage: \"Sign in with:\"\n        })));\n      }\n\n      if (gitlabSigninEnabled) {\n        loginControls.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"a\", {\n          className: \"btn btn-custom-login gitlab\",\n          key: \"gitlab\",\n          href: mattermost_redux_client__WEBPACK_IMPORTED_MODULE_10__[\"Client4\"].getOAuthRoute() + '/gitlab/login' + _this.props.location.search\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", {\n          className: \"icon\"\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.gitlab\",\n          defaultMessage: \"GitLab\"\n        })))));\n      }\n\n      if (googleSigninEnabled) {\n        loginControls.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"a\", {\n          className: \"btn btn-custom-login google\",\n          key: \"google\",\n          href: mattermost_redux_client__WEBPACK_IMPORTED_MODULE_10__[\"Client4\"].getOAuthRoute() + '/google/login' + _this.props.location.search\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", {\n          className: \"icon\"\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.google\",\n          defaultMessage: \"Google Apps\"\n        })))));\n      }\n\n      if (office365SigninEnabled) {\n        loginControls.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"a\", {\n          className: \"btn btn-custom-login office365\",\n          key: \"office365\",\n          href: mattermost_redux_client__WEBPACK_IMPORTED_MODULE_10__[\"Client4\"].getOAuthRoute() + '/office365/login' + _this.props.location.search\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", {\n          className: \"icon\"\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n          id: \"login.office365\",\n          defaultMessage: \"Office 365\"\n        })))));\n      }\n\n      if (samlSigninEnabled) {\n        loginControls.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"a\", {\n          className: \"btn btn-custom-login saml\",\n          key: \"saml\",\n          href: mattermost_redux_client__WEBPACK_IMPORTED_MODULE_10__[\"Client4\"].getUrl() + '/login/sso/saml' + _this.props.location.search\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", {\n          className: \"icon fa fa-lock fa--margin-top\",\n          title: \"Saml icon\"\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", null, _this.props.samlLoginButtonText))));\n      }\n\n      if (loginControls.length === 0) {\n        loginControls.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_form_error_jsx__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n          key: \"noMethods\",\n          error: react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"FormattedMessage\"], {\n            id: \"login.noMethods\",\n            defaultMessage: \"No sign-in methods are enabled. Please contact your System Administrator.\"\n          }),\n          margin: true\n        }));\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", null, _this.createExtraText(), loginControls);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"hideMfa\", function () {\n      _this.setState({\n        showMfa: false\n      });\n    });\n\n    var _loginId = '';\n\n    if (new URLSearchParams(_this.props.location.search).get('extra') === utils_constants_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"].SIGNIN_VERIFIED && new URLSearchParams(_this.props.location.search).get('email')) {\n      _loginId = new URLSearchParams(_this.props.location.search).get('email');\n    }\n\n    _this.state = {\n      ldapEnabled: _this.props.isLicensed && _this.props.enableLdap,\n      usernameSigninEnabled: _this.props.enableSignInWithUsername,\n      emailSigninEnabled: _this.props.enableSignInWithEmail,\n      samlEnabled: _this.props.isLicensed && _this.props.enableSaml,\n      loginId: _loginId,\n      password: '',\n      showMfa: false,\n      loading: false,\n      sessionExpired: false\n    };\n    return _this;\n  }\n\n  _createClass(LoginController, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.configureTitle();\n\n      if (this.props.currentUser) {\n        actions_global_actions_jsx__WEBPACK_IMPORTED_MODULE_11__[\"redirectUserToDefaultTeam\"]();\n        return;\n      }\n\n      var search = new URLSearchParams(this.props.location.search);\n      var extra = search.get('extra');\n      var email = search.get('email');\n\n      if (extra === utils_constants_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"].SIGNIN_VERIFIED && email) {\n        this.refs.password.focus();\n      } // Determine if the user was unexpectedly logged out.\n\n\n      if (stores_local_storage_store__WEBPACK_IMPORTED_MODULE_14__[\"default\"].getWasLoggedIn()) {\n        if (extra === utils_constants_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"].SIGNIN_CHANGE) {\n          // Assume that if the user triggered a sign in change, it was intended to logout.\n          // We can't preflight this, since in some flows it's the server that invalidates\n          // our session after we use it to complete the sign in change.\n          stores_local_storage_store__WEBPACK_IMPORTED_MODULE_14__[\"default\"].setWasLoggedIn(false);\n        } else {\n          // Although the authority remains the local sessionExpired bit on the state, set this\n          // extra field in the querystring to signal the desktop app. And although eslint\n          // complains about this, it is allowed: https://reactjs.org/docs/react-component.html#componentdidmount.\n          // eslint-disable-next-line react/no-did-mount-set-state\n          this.setState({\n            sessionExpired: true\n          });\n          search.set('extra', utils_constants_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"].SESSION_EXPIRED);\n          utils_browser_history__WEBPACK_IMPORTED_MODULE_15__[\"browserHistory\"].replace(\"\".concat(this.props.location.pathname, \"?\").concat(search));\n        }\n      }\n\n      this.showSessionExpiredNotificationIfNeeded();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.configureTitle();\n      this.showSessionExpiredNotificationIfNeeded();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.closeSessionExpiredNotification) {\n        this.closeSessionExpiredNotification();\n        this.closeSessionExpiredNotification = null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          customDescriptionText = _this$props.customDescriptionText,\n          siteName = _this$props.siteName,\n          initializing = _this$props.initializing;\n\n      if (initializing) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_loading_screen_jsx__WEBPACK_IMPORTED_MODULE_28__[\"default\"], null);\n      }\n\n      var content;\n      var customContent;\n      var customClass;\n      var backButton;\n\n      if (this.state.showMfa) {\n        content = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_login_mfa_jsx__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n          loginId: this.state.loginId,\n          password: this.state.password,\n          submit: this.submit\n        });\n        backButton = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_common_back_button_jsx__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n          onClick: this.hideMfa\n        });\n      } else {\n        content = this.createLoginOptions();\n        customContent = this.createCustomLogin();\n\n        if (customContent) {\n          customClass = 'branded';\n        }\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_announcement_bar__WEBPACK_IMPORTED_MODULE_24__[\"default\"], null), backButton, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        className: \"col-sm-12\"\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        className: 'signup-team__container ' + customClass\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        className: \"signup__markdown\"\n      }, customContent), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"img\", {\n        className: \"signup-team-logo\",\n        src: images_logo_png__WEBPACK_IMPORTED_MODULE_22___default.a\n      }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        className: \"signup__content\"\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_common_site_name_and_description__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n        customDescriptionText: customDescriptionText,\n        siteName: siteName\n      }), content))));\n    }\n  }]);\n\n  return LoginController;\n}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_8__[\"injectIntl\"])(LoginController));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL2xvZ2luL2xvZ2luX2NvbnRyb2xsZXIvbG9naW5fY29udHJvbGxlci5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2xvZ2luL2xvZ2luX2NvbnRyb2xsZXIvbG9naW5fY29udHJvbGxlci5qc3g/MjYwMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtGb3JtYXR0ZWRNZXNzYWdlLCBpbmplY3RJbnRsLCBpbnRsU2hhcGV9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcblxuaW1wb3J0IHtDbGllbnQ0fSBmcm9tICdtYXR0ZXJtb3N0LXJlZHV4L2NsaWVudCc7XG5cbmltcG9ydCAqIGFzIEdsb2JhbEFjdGlvbnMgZnJvbSAnYWN0aW9ucy9nbG9iYWxfYWN0aW9ucy5qc3gnO1xuaW1wb3J0IHthZGRVc2VyVG9UZWFtRnJvbUludml0ZX0gZnJvbSAnYWN0aW9ucy90ZWFtX2FjdGlvbnMuanN4JztcbmltcG9ydCB7Y2hlY2tNZmF9IGZyb20gJ2FjdGlvbnMvdXNlcl9hY3Rpb25zLmpzeCc7XG5pbXBvcnQgTG9jYWxTdG9yYWdlU3RvcmUgZnJvbSAnc3RvcmVzL2xvY2FsX3N0b3JhZ2Vfc3RvcmUnO1xuXG5pbXBvcnQge2Jyb3dzZXJIaXN0b3J5fSBmcm9tICd1dGlscy9icm93c2VyX2hpc3RvcnknO1xuaW1wb3J0IENvbnN0YW50cyBmcm9tICd1dGlscy9jb25zdGFudHMuanN4JztcbmltcG9ydCBtZXNzYWdlSHRtbFRvQ29tcG9uZW50IGZyb20gJ3V0aWxzL21lc3NhZ2VfaHRtbF90b19jb21wb25lbnQnO1xuaW1wb3J0ICogYXMgVGV4dEZvcm1hdHRpbmcgZnJvbSAndXRpbHMvdGV4dF9mb3JtYXR0aW5nLmpzeCc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICd1dGlscy91dGlscy5qc3gnO1xuaW1wb3J0IHtzaG93Tm90aWZpY2F0aW9ufSBmcm9tICd1dGlscy9ub3RpZmljYXRpb25zLmpzeCc7XG5pbXBvcnQge3R9IGZyb20gJ3V0aWxzL2kxOG4uanN4JztcblxuaW1wb3J0IGxvZ29JbWFnZSBmcm9tICdpbWFnZXMvbG9nby5wbmcnO1xuXG5pbXBvcnQgU2l0ZU5hbWVBbmREZXNjcmlwdGlvbiBmcm9tICdjb21wb25lbnRzL2NvbW1vbi9zaXRlX25hbWVfYW5kX2Rlc2NyaXB0aW9uJztcbmltcG9ydCBBbm5vdW5jZW1lbnRCYXIgZnJvbSAnY29tcG9uZW50cy9hbm5vdW5jZW1lbnRfYmFyJztcbmltcG9ydCBGb3JtRXJyb3IgZnJvbSAnY29tcG9uZW50cy9mb3JtX2Vycm9yLmpzeCc7XG5pbXBvcnQgRm9ybWF0dGVkTWFya2Rvd25NZXNzYWdlIGZyb20gJ2NvbXBvbmVudHMvZm9ybWF0dGVkX21hcmtkb3duX21lc3NhZ2UuanN4JztcbmltcG9ydCBCYWNrQnV0dG9uIGZyb20gJ2NvbXBvbmVudHMvY29tbW9uL2JhY2tfYnV0dG9uLmpzeCc7XG5pbXBvcnQgTG9hZGluZ1NjcmVlbiBmcm9tICdjb21wb25lbnRzL2xvYWRpbmdfc2NyZWVuLmpzeCc7XG5cbmltcG9ydCBMb2dpbk1mYSBmcm9tICcuLi9sb2dpbl9tZmEuanN4JztcbmNsYXNzIExvZ2luQ29udHJvbGxlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBwcm9wVHlwZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnRsOiBpbnRsU2hhcGUuaXNSZXF1aXJlZCxcblxuICAgICAgICAgICAgbG9jYXRpb246IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIGlzTGljZW5zZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG5cbiAgICAgICAgICAgIGN1cnJlbnRVc2VyOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgICAgICBjdXN0b21CcmFuZFRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBjdXN0b21EZXNjcmlwdGlvblRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBlbmFibGVDdXN0b21CcmFuZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIGVuYWJsZUxkYXA6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBlbmFibGVPcGVuU2VydmVyOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgZW5hYmxlU2FtbDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIGVuYWJsZVNpZ25JbldpdGhFbWFpbDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIGVuYWJsZVNpZ25JbldpdGhVc2VybmFtZTogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIGVuYWJsZVNpZ25VcFdpdGhFbWFpbDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIGVuYWJsZVNpZ25VcFdpdGhHaXRMYWI6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBlbmFibGVTaWduVXBXaXRoR29vZ2xlOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgZW5hYmxlU2lnblVwV2l0aE9mZmljZTM2NTogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbFByaW1hcnlUZWFtOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgbGRhcExvZ2luRmllbGROYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgc2FtbExvZ2luQnV0dG9uVGV4dDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIHNpdGVOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgaW5pdGlhbGl6aW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAgICAgICAgIGFjdGlvbnM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICAgICAgbG9naW46IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICBsZXQgbG9naW5JZCA9ICcnO1xuICAgICAgICBpZiAoKG5ldyBVUkxTZWFyY2hQYXJhbXModGhpcy5wcm9wcy5sb2NhdGlvbi5zZWFyY2gpKS5nZXQoJ2V4dHJhJykgPT09IENvbnN0YW50cy5TSUdOSU5fVkVSSUZJRUQgJiYgKG5ldyBVUkxTZWFyY2hQYXJhbXModGhpcy5wcm9wcy5sb2NhdGlvbi5zZWFyY2gpKS5nZXQoJ2VtYWlsJykpIHtcbiAgICAgICAgICAgIGxvZ2luSWQgPSAobmV3IFVSTFNlYXJjaFBhcmFtcyh0aGlzLnByb3BzLmxvY2F0aW9uLnNlYXJjaCkpLmdldCgnZW1haWwnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBsZGFwRW5hYmxlZDogdGhpcy5wcm9wcy5pc0xpY2Vuc2VkICYmIHRoaXMucHJvcHMuZW5hYmxlTGRhcCxcbiAgICAgICAgICAgIHVzZXJuYW1lU2lnbmluRW5hYmxlZDogdGhpcy5wcm9wcy5lbmFibGVTaWduSW5XaXRoVXNlcm5hbWUsXG4gICAgICAgICAgICBlbWFpbFNpZ25pbkVuYWJsZWQ6IHRoaXMucHJvcHMuZW5hYmxlU2lnbkluV2l0aEVtYWlsLFxuICAgICAgICAgICAgc2FtbEVuYWJsZWQ6IHRoaXMucHJvcHMuaXNMaWNlbnNlZCAmJiB0aGlzLnByb3BzLmVuYWJsZVNhbWwsXG4gICAgICAgICAgICBsb2dpbklkLFxuICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgICAgICAgICAgc2hvd01mYTogZmFsc2UsXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIHNlc3Npb25FeHBpcmVkOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5jb25maWd1cmVUaXRsZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmN1cnJlbnRVc2VyKSB7XG4gICAgICAgICAgICBHbG9iYWxBY3Rpb25zLnJlZGlyZWN0VXNlclRvRGVmYXVsdFRlYW0oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlYXJjaCA9IG5ldyBVUkxTZWFyY2hQYXJhbXModGhpcy5wcm9wcy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgICAgICBjb25zdCBleHRyYSA9IHNlYXJjaC5nZXQoJ2V4dHJhJyk7XG4gICAgICAgIGNvbnN0IGVtYWlsID0gc2VhcmNoLmdldCgnZW1haWwnKTtcblxuICAgICAgICBpZiAoZXh0cmEgPT09IENvbnN0YW50cy5TSUdOSU5fVkVSSUZJRUQgJiYgZW1haWwpIHtcbiAgICAgICAgICAgIHRoaXMucmVmcy5wYXNzd29yZC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHRoZSB1c2VyIHdhcyB1bmV4cGVjdGVkbHkgbG9nZ2VkIG91dC5cbiAgICAgICAgaWYgKExvY2FsU3RvcmFnZVN0b3JlLmdldFdhc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgIGlmIChleHRyYSA9PT0gQ29uc3RhbnRzLlNJR05JTl9DSEFOR0UpIHtcbiAgICAgICAgICAgICAgICAvLyBBc3N1bWUgdGhhdCBpZiB0aGUgdXNlciB0cmlnZ2VyZWQgYSBzaWduIGluIGNoYW5nZSwgaXQgd2FzIGludGVuZGVkIHRvIGxvZ291dC5cbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4ndCBwcmVmbGlnaHQgdGhpcywgc2luY2UgaW4gc29tZSBmbG93cyBpdCdzIHRoZSBzZXJ2ZXIgdGhhdCBpbnZhbGlkYXRlc1xuICAgICAgICAgICAgICAgIC8vIG91ciBzZXNzaW9uIGFmdGVyIHdlIHVzZSBpdCB0byBjb21wbGV0ZSB0aGUgc2lnbiBpbiBjaGFuZ2UuXG4gICAgICAgICAgICAgICAgTG9jYWxTdG9yYWdlU3RvcmUuc2V0V2FzTG9nZ2VkSW4oZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBbHRob3VnaCB0aGUgYXV0aG9yaXR5IHJlbWFpbnMgdGhlIGxvY2FsIHNlc3Npb25FeHBpcmVkIGJpdCBvbiB0aGUgc3RhdGUsIHNldCB0aGlzXG4gICAgICAgICAgICAgICAgLy8gZXh0cmEgZmllbGQgaW4gdGhlIHF1ZXJ5c3RyaW5nIHRvIHNpZ25hbCB0aGUgZGVza3RvcCBhcHAuIEFuZCBhbHRob3VnaCBlc2xpbnRcbiAgICAgICAgICAgICAgICAvLyBjb21wbGFpbnMgYWJvdXQgdGhpcywgaXQgaXMgYWxsb3dlZDogaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWNvbXBvbmVudC5odG1sI2NvbXBvbmVudGRpZG1vdW50LlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby1kaWQtbW91bnQtc2V0LXN0YXRlXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c2Vzc2lvbkV4cGlyZWQ6IHRydWV9KTtcbiAgICAgICAgICAgICAgICBzZWFyY2guc2V0KCdleHRyYScsIENvbnN0YW50cy5TRVNTSU9OX0VYUElSRUQpO1xuICAgICAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnJlcGxhY2UoYCR7dGhpcy5wcm9wcy5sb2NhdGlvbi5wYXRobmFtZX0/JHtzZWFyY2h9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNob3dTZXNzaW9uRXhwaXJlZE5vdGlmaWNhdGlvbklmTmVlZGVkKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyZVRpdGxlKCk7XG4gICAgICAgIHRoaXMuc2hvd1Nlc3Npb25FeHBpcmVkTm90aWZpY2F0aW9uSWZOZWVkZWQoKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VTZXNzaW9uRXhwaXJlZE5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNlc3Npb25FeHBpcmVkTm90aWZpY2F0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU2Vzc2lvbkV4cGlyZWROb3RpZmljYXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uZmlndXJlVGl0bGUgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlc3Npb25FeHBpcmVkKSB7XG4gICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBpZDogJ2xvZ2luLnNlc3Npb25fZXhwaXJlZC50aXRsZScsXG4gICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICcqIHtzaXRlTmFtZX0gLSBTZXNzaW9uIEV4cGlyZWQnLFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHNpdGVOYW1lOiB0aGlzLnByb3BzLnNpdGVOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMucHJvcHMuc2l0ZU5hbWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93U2Vzc2lvbkV4cGlyZWROb3RpZmljYXRpb25JZk5lZWRlZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2Vzc2lvbkV4cGlyZWQgJiYgIXRoaXMuY2xvc2VTZXNzaW9uRXhwaXJlZE5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvbih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMucHJvcHMuc2l0ZU5hbWUsXG4gICAgICAgICAgICAgICAgYm9keTogVXRpbHMubG9jYWxpemVNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAnbG9naW4uc2Vzc2lvbl9leHBpcmVkLm5vdGlmaWNhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICdTZXNzaW9uIEV4cGlyZWQ6IFBsZWFzZSBzaWduIGluIHRvIGNvbnRpbnVlIHJlY2VpdmluZyBub3RpZmljYXRpb25zLidcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVJbnRlcmFjdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaWxlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsb3NlU2Vzc2lvbkV4cGlyZWROb3RpZmljYXRpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlc3Npb25FeHBpcmVkTm90aWZpY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU2Vzc2lvbkV4cGlyZWROb3RpZmljYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLnRoZW4oKGNsb3NlTm90aWZpY2F0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlc3Npb25FeHBpcmVkTm90aWZpY2F0aW9uID0gY2xvc2VOb3RpZmljYXRpb247XG4gICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHRoZSBmYWlsdXJlIHRvIGRpc3BsYXkgdGhlIG5vdGlmaWNhdGlvbi5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnN0YXRlLnNlc3Npb25FeHBpcmVkICYmIHRoaXMuY2xvc2VTZXNzaW9uRXhwaXJlZE5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNlc3Npb25FeHBpcmVkTm90aWZpY2F0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU2Vzc2lvbkV4cGlyZWROb3RpZmljYXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJlU3VibWl0ID0gKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IHtsb2NhdGlvbn0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCBuZXdRdWVyeSA9IGxvY2F0aW9uLnNlYXJjaC5yZXBsYWNlKC8oZXh0cmE9cGFzc3dvcmRfY2hhbmdlKSY/L2ksICcnKTtcbiAgICAgICAgaWYgKG5ld1F1ZXJ5ICE9PSBsb2NhdGlvbi5zZWFyY2gpIHtcbiAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnJlcGxhY2UoYCR7bG9jYXRpb24ucGF0aG5hbWV9JHtuZXdRdWVyeX0ke2xvY2F0aW9uLmhhc2h9YCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYXNzd29yZCBtYW5hZ2VycyBkb24ndCBhbHdheXMgY2FsbCBvbklucHV0IGhhbmRsZXJzIGZvciBmb3JtIGZpZWxkcyBzbyBpdCdzIHBvc3NpYmxlXG4gICAgICAgIC8vIGZvciB0aGUgc3RhdGUgdG8gZ2V0IG91dCBvZiBzeW5jIHdpdGggd2hhdCB0aGUgdXNlciBzZWVzIGluIHRoZSBicm93c2VyXG4gICAgICAgIGxldCBsb2dpbklkID0gdGhpcy5yZWZzLmxvZ2luSWQudmFsdWU7XG4gICAgICAgIGlmIChsb2dpbklkICE9PSB0aGlzLnN0YXRlLmxvZ2luSWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2xvZ2luSWR9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy5yZWZzLnBhc3N3b3JkLnZhbHVlO1xuICAgICAgICBpZiAocGFzc3dvcmQgIT09IHRoaXMuc3RhdGUucGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bhc3N3b3JkfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb24ndCB0cmltIHRoZSBwYXNzd29yZCBzaW5jZSB3ZSBzdXBwb3J0IHNwYWNlcyBpbiBwYXNzd29yZHNcbiAgICAgICAgbG9naW5JZCA9IGxvZ2luSWQudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgaWYgKCFsb2dpbklkKSB7XG4gICAgICAgICAgICB0KCdsb2dpbi5ub0VtYWlsJyk7XG4gICAgICAgICAgICB0KCdsb2dpbi5ub0VtYWlsTGRhcFVzZXJuYW1lJyk7XG4gICAgICAgICAgICB0KCdsb2dpbi5ub0VtYWlsVXNlcm5hbWUnKTtcbiAgICAgICAgICAgIHQoJ2xvZ2luLm5vRW1haWxVc2VybmFtZUxkYXBVc2VybmFtZScpO1xuICAgICAgICAgICAgdCgnbG9naW4ubm9MZGFwVXNlcm5hbWUnKTtcbiAgICAgICAgICAgIHQoJ2xvZ2luLm5vVXNlcm5hbWUnKTtcbiAgICAgICAgICAgIHQoJ2xvZ2luLm5vVXNlcm5hbWVMZGFwVXNlcm5hbWUnKTtcblxuICAgICAgICAgICAgLy8gaXQncyBzbGlnaHRseSB3ZWlyZCB0byBiZSBjb25zdHJ1Y3RpbmcgdGhlIG1lc3NhZ2UgSUQsIGJ1dCBpdCdzIGEgYml0IG5pY2VyIHRoYW4gdHJpcGx5IG5lc3RlZCBpZiBzdGF0ZW1lbnRzXG4gICAgICAgICAgICBsZXQgbXNnSWQgPSAnbG9naW4ubm8nO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuZW1haWxTaWduaW5FbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgbXNnSWQgKz0gJ0VtYWlsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnVzZXJuYW1lU2lnbmluRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIG1zZ0lkICs9ICdVc2VybmFtZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5sZGFwRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIG1zZ0lkICs9ICdMZGFwVXNlcm5hbWUnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJFcnJvcjogKFxuICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e21zZ0lkfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGRhcFVzZXJuYW1lOiB0aGlzLnByb3BzLmxkYXBMb2dpbkZpZWxkTmFtZSB8fCBVdGlscy5sb2NhbGl6ZU1lc3NhZ2UoJ2xvZ2luLmxkYXBVc2VybmFtZUxvd2VyJywgJ0FEL0xEQVAgdXNlcm5hbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwYXNzd29yZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VydmVyRXJyb3I6IChcbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdsb2dpbi5ub1Bhc3N3b3JkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J1BsZWFzZSBlbnRlciB5b3VyIHBhc3N3b3JkJ1xuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoZWNrTWZhKFxuICAgICAgICAgICAgbG9naW5JZCxcbiAgICAgICAgICAgIChyZXF1aXJlc01mYSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlc01mYSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtzaG93TWZhOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJtaXQobG9naW5JZCwgcGFzc3dvcmQsICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3NlcnZlckVycm9yOiBlcnIubWVzc2FnZX0pO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHN1Ym1pdCA9IChsb2dpbklkLCBwYXNzd29yZCwgdG9rZW4pID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c2VydmVyRXJyb3I6IG51bGwsIGxvYWRpbmc6IHRydWV9KTtcblxuICAgICAgICB0aGlzLnByb3BzLmFjdGlvbnMubG9naW4obG9naW5JZCwgcGFzc3dvcmQsIHRva2VuKS50aGVuKCh7ZXJyb3J9KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuaWQgPT09ICdhcGkudXNlci5sb2dpbi5ub3RfdmVyaWZpZWQuYXBwX2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvc2hvdWxkX3ZlcmlmeV9lbWFpbD8mZW1haWw9JyArIGVuY29kZVVSSUNvbXBvbmVudChsb2dpbklkKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5pZCA9PT0gJ3N0b3JlLnNxbF91c2VyLmdldF9mb3JfbG9naW4uYXBwX2Vycm9yJyB8fFxuICAgICAgICAgICAgICAgICAgICBlcnJvci5pZCA9PT0gJ2VudC5sZGFwLmRvX2xvZ2luLnVzZXJfbm90X3JlZ2lzdGVyZWQuYXBwX2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dNZmE6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJFcnJvcjogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdsb2dpbi51c2VyTm90Rm91bmQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPVwiV2UgY291bGRuJ3QgZmluZCBhbiBhY2NvdW50IG1hdGNoaW5nIHlvdXIgbG9naW4gY3JlZGVudGlhbHMuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5pZCA9PT0gJ2FwaS51c2VyLmNoZWNrX3VzZXJfcGFzc3dvcmQuaW52YWxpZC5hcHBfZXJyb3InIHx8IGVycm9yLmlkID09PSAnZW50LmxkYXAuZG9fbG9naW4uaW52YWxpZF9wYXNzd29yZC5hcHBfZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd01mYTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckVycm9yOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2xvZ2luLmludmFsaWRQYXNzd29yZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J1lvdXIgcGFzc3dvcmQgaXMgaW5jb3JyZWN0LidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c2hvd01mYTogZmFsc2UsIHNlcnZlckVycm9yOiBlcnJvci5tZXNzYWdlLCBsb2FkaW5nOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHF1ZXJ5IHBhcmFtcyBicm91Z2h0IG92ZXIgZnJvbSBzaWdudXBfdXNlcl9jb21wbGV0ZVxuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh0aGlzLnByb3BzLmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICAgICAgICBjb25zdCBpbnZpdGVUb2tlbiA9IHBhcmFtcy5nZXQoJ3QnKSB8fCAnJztcbiAgICAgICAgICAgIGNvbnN0IGludml0ZUlkID0gcGFyYW1zLmdldCgnaWQnKSB8fCAnJztcblxuICAgICAgICAgICAgaWYgKGludml0ZUlkIHx8IGludml0ZVRva2VuKSB7XG4gICAgICAgICAgICAgICAgYWRkVXNlclRvVGVhbUZyb21JbnZpdGUoXG4gICAgICAgICAgICAgICAgICAgIGludml0ZVRva2VuLFxuICAgICAgICAgICAgICAgICAgICBpbnZpdGVJZCxcbiAgICAgICAgICAgICAgICAgICAgKHRlYW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoU2lnbmluKHRlYW0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSdzIG5vdCByZWFsbHkgYSBnb29kIHdheSB0byBkZWFsIHdpdGggdGhpcywgc28ganVzdCBsZXQgdGhlIHVzZXIgbG9nIGluIGxpa2Ugbm9ybWFsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaFNpZ25pbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5pc2hTaWduaW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZmluaXNoU2lnbmluID0gKHRlYW0pID0+IHtcbiAgICAgICAgY29uc3QgZXhwZXJpbWVudGFsUHJpbWFyeVRlYW0gPSB0aGlzLnByb3BzLmV4cGVyaW1lbnRhbFByaW1hcnlUZWFtO1xuICAgICAgICBjb25zdCBxdWVyeSA9IG5ldyBVUkxTZWFyY2hQYXJhbXModGhpcy5wcm9wcy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgICAgICBjb25zdCByZWRpcmVjdFRvID0gcXVlcnkuZ2V0KCdyZWRpcmVjdF90bycpO1xuXG4gICAgICAgIC8vIFJlY29yZCBhIHN1Y2Nlc3NmdWwgbG9naW4gdG8gbG9jYWwgc3RvcmFnZS4gSWYgYW4gdW5pbnRlbnRpb25hbCBsb2dvdXQgb2NjdXJzLCBlLmcuXG4gICAgICAgIC8vIHZpYSBzZXNzaW9uIGV4cGlyYXRpb24sIHRoaXMgYml0IHdvbid0IGdldCByZXNldCBhbmQgd2UgY2FuIG5vdGlmeSB0aGUgdXNlciBhcyBzdWNoLlxuICAgICAgICBMb2NhbFN0b3JhZ2VTdG9yZS5zZXRXYXNMb2dnZWRJbih0cnVlKTtcbiAgICAgICAgaWYgKHJlZGlyZWN0VG8gJiYgcmVkaXJlY3RUby5tYXRjaCgvXlxcLyhbXi9dfCQpLykpIHtcbiAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2gocmVkaXJlY3RUbyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGVhbSkge1xuICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChgLyR7dGVhbS5uYW1lfWApO1xuICAgICAgICB9IGVsc2UgaWYgKGV4cGVyaW1lbnRhbFByaW1hcnlUZWFtKSB7XG4gICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKGAvJHtleHBlcmltZW50YWxQcmltYXJ5VGVhbX0vY2hhbm5lbHMvJHtDb25zdGFudHMuREVGQVVMVF9DSEFOTkVMfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgR2xvYmFsQWN0aW9ucy5yZWRpcmVjdFVzZXJUb0RlZmF1bHRUZWFtKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVMb2dpbklkQ2hhbmdlID0gKGUpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBsb2dpbklkOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFuZGxlUGFzc3dvcmRDaGFuZ2UgPSAoZSkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHBhc3N3b3JkOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQ3VzdG9tTG9naW4gPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmVuYWJsZUN1c3RvbUJyYW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5wcm9wcy5jdXN0b21CcmFuZFRleHQgfHwgJyc7XG4gICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRUZXh0ID0gVGV4dEZvcm1hdHRpbmcuZm9ybWF0VGV4dCh0ZXh0KTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmM9e0NsaWVudDQuZ2V0QnJhbmRJbWFnZVVybCgwKX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlSHRtbFRvQ29tcG9uZW50KGZvcm1hdHRlZFRleHQsIGZhbHNlLCB7bWVudGlvbnM6IGZhbHNlfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNyZWF0ZUxvZ2luUGxhY2Vob2xkZXIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxkYXBFbmFibGVkID0gdGhpcy5zdGF0ZS5sZGFwRW5hYmxlZDtcbiAgICAgICAgY29uc3QgdXNlcm5hbWVTaWduaW5FbmFibGVkID0gdGhpcy5zdGF0ZS51c2VybmFtZVNpZ25pbkVuYWJsZWQ7XG4gICAgICAgIGNvbnN0IGVtYWlsU2lnbmluRW5hYmxlZCA9IHRoaXMuc3RhdGUuZW1haWxTaWduaW5FbmFibGVkO1xuXG4gICAgICAgIGNvbnN0IGxvZ2luUGxhY2Vob2xkZXJzID0gW107XG4gICAgICAgIGlmIChlbWFpbFNpZ25pbkVuYWJsZWQpIHtcbiAgICAgICAgICAgIGxvZ2luUGxhY2Vob2xkZXJzLnB1c2goVXRpbHMubG9jYWxpemVNZXNzYWdlKCdsb2dpbi5lbWFpbCcsICdFbWFpbCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VybmFtZVNpZ25pbkVuYWJsZWQpIHtcbiAgICAgICAgICAgIGxvZ2luUGxhY2Vob2xkZXJzLnB1c2goVXRpbHMubG9jYWxpemVNZXNzYWdlKCdsb2dpbi51c2VybmFtZScsICdVc2VybmFtZScpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZGFwRW5hYmxlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMubGRhcExvZ2luRmllbGROYW1lKSB7XG4gICAgICAgICAgICAgICAgbG9naW5QbGFjZWhvbGRlcnMucHVzaCh0aGlzLnByb3BzLmxkYXBMb2dpbkZpZWxkTmFtZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2luUGxhY2Vob2xkZXJzLnB1c2goVXRpbHMubG9jYWxpemVNZXNzYWdlKCdsb2dpbi5sZGFwVXNlcm5hbWUnLCAnQUQvTERBUCBVc2VybmFtZScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsb2dpblBsYWNlaG9sZGVycy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgcmV0dXJuIGxvZ2luUGxhY2Vob2xkZXJzLnNsaWNlKDAsIGxvZ2luUGxhY2Vob2xkZXJzLmxlbmd0aCAtIDEpLmpvaW4oJywgJykgK1xuICAgICAgICAgICAgICAgIFV0aWxzLmxvY2FsaXplTWVzc2FnZSgnbG9naW4ucGxhY2Vob2xkZXJPcicsICcgb3IgJykgK1xuICAgICAgICAgICAgICAgIGxvZ2luUGxhY2Vob2xkZXJzW2xvZ2luUGxhY2Vob2xkZXJzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9IGVsc2UgaWYgKGxvZ2luUGxhY2Vob2xkZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGxvZ2luUGxhY2Vob2xkZXJzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGNoZWNrU2lnblVwRW5hYmxlZCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZW5hYmxlU2lnblVwV2l0aEVtYWlsIHx8XG4gICAgICAgICAgICB0aGlzLnByb3BzLmVuYWJsZVNpZ25VcFdpdGhHaXRMYWIgfHxcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZW5hYmxlU2lnblVwV2l0aE9mZmljZTM2NSB8fFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5lbmFibGVTaWduVXBXaXRoR29vZ2xlIHx8XG4gICAgICAgICAgICB0aGlzLnByb3BzLmVuYWJsZUxkYXAgfHxcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZW5hYmxlU2FtbDtcbiAgICB9XG5cbiAgICBvbkRpc21pc3NTZXNzaW9uRXhwaXJlZCA9ICgpID0+IHtcbiAgICAgICAgTG9jYWxTdG9yYWdlU3RvcmUuc2V0V2FzTG9nZ2VkSW4oZmFsc2UpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtzZXNzaW9uRXhwaXJlZDogZmFsc2V9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVFeHRyYVRleHQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4dHJhUGFyYW0gPSAobmV3IFVSTFNlYXJjaFBhcmFtcyh0aGlzLnByb3BzLmxvY2F0aW9uLnNlYXJjaCkpLmdldCgnZXh0cmEnKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2Vzc2lvbkV4cGlyZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FsZXJ0IGFsZXJ0LXdhcm5pbmcnPlxuICAgICAgICAgICAgICAgICAgICA8aVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmYSBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtVdGlscy5sb2NhbGl6ZU1lc3NhZ2UoJ2dlbmVyaWNfaWNvbnMud2FybmluZycsICdXYXJuaW5nIEljb24nKX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgeycgJ31cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdsb2dpbi5zZXNzaW9uX2V4cGlyZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nWW91ciBzZXNzaW9uIGhhcyBleHBpcmVkLiBQbGVhc2UgbG9nIGluIGFnYWluLidcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgeycgJ31cbiAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnRuLWNsb3NlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdG89Jy9sb2dpbidcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25EaXNtaXNzU2Vzc2lvbkV4cGlyZWR9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsnw5cnfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4dHJhUGFyYW0gPT09IENvbnN0YW50cy5HRVRfVEVSTVNfRVJST1IpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FsZXJ0IGhhcy1lcnJvciBuby1wYWRkaW5nJz5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nY29udHJvbC1sYWJlbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdsb2dpbi5nZXRfdGVybXNfZXJyb3InXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J1VuYWJsZSB0byBsb2FkIHRlcm1zIG9mIHNlcnZpY2UuIElmIHRoaXMgaXNzdWUgcGVyc2lzdHMsIGNvbnRhY3QgeW91ciBTeXN0ZW0gQWRtaW5pc3RyYXRvci4nXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChleHRyYVBhcmFtID09PSBDb25zdGFudHMuVEVSTVNfUkVKRUNURUQpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FsZXJ0IGFsZXJ0LXdhcm5pbmcnPlxuICAgICAgICAgICAgICAgICAgICA8aVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmYSBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtVdGlscy5sb2NhbGl6ZU1lc3NhZ2UoJ2dlbmVyaWNfaWNvbnMud2FybmluZycsICdXYXJuaW5nIEljb24nKX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1hcmtkb3duTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2xvZ2luLnRlcm1zX3JlamVjdGVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J1lvdSBtdXN0IGFncmVlIHRvIHRoZSB0ZXJtcyBvZiBzZXJ2aWNlIGJlZm9yZSBhY2Nlc3Npbmcge3NpdGVOYW1lfS4gUGxlYXNlIGNvbnRhY3QgeW91ciBTeXN0ZW0gQWRtaW5pc3RyYXRvciBmb3IgbW9yZSBkZXRhaWxzLidcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcz17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVOYW1lOiB0aGlzLnByb3BzLnNpdGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXh0cmFQYXJhbSA9PT0gQ29uc3RhbnRzLlNJR05JTl9DSEFOR0UpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnPlxuICAgICAgICAgICAgICAgICAgICA8aVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmYSBmYS1jaGVjaydcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtVdGlscy5sb2NhbGl6ZU1lc3NhZ2UoJ2dlbmVyaWNfaWNvbnMuc3VjY2VzcycsICdTdWNjZXNzIEljb24nKX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdsb2dpbi5jaGFuZ2VkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9JyBTaWduLWluIG1ldGhvZCBjaGFuZ2VkIHN1Y2Nlc3NmdWxseSdcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXh0cmFQYXJhbSA9PT0gQ29uc3RhbnRzLlNJR05JTl9WRVJJRklFRCkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYWxlcnQgYWxlcnQtc3VjY2Vzcyc+XG4gICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZhIGZhLWNoZWNrJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e1V0aWxzLmxvY2FsaXplTWVzc2FnZSgnZ2VuZXJpY19pY29ucy5zdWNjZXNzJywgJ1N1Y2Nlc3MgSWNvbicpfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2xvZ2luLnZlcmlmaWVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9JyBFbWFpbCBWZXJpZmllZCdcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXh0cmFQYXJhbSA9PT0gQ29uc3RhbnRzLlBBU1NXT1JEX0NIQU5HRSkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYWxlcnQgYWxlcnQtc3VjY2Vzcyc+XG4gICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZhIGZhLWNoZWNrJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e1V0aWxzLmxvY2FsaXplTWVzc2FnZSgnZ2VuZXJpY19pY29ucy5zdWNjZXNzJywgJ1N1Y2Nlc3MgSWNvbicpfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2xvZ2luLnBhc3N3b3JkQ2hhbmdlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPScgUGFzc3dvcmQgdXBkYXRlZCBzdWNjZXNzZnVsbHknXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGV4dHJhUGFyYW0gPT09IENvbnN0YW50cy5DUkVBVEVfTERBUCkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYWxlcnQgYWxlcnQtZ3JleSc+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD0nbG9naW4ubGRhcENyZWF0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPScgRW50ZXIgeW91ciBBRC9MREFQIHVzZXJuYW1lIGFuZCBwYXNzd29yZCB0byBjcmVhdGUgYW4gYWNjb3VudC4nXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY3JlYXRlTG9naW5PcHRpb25zID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBsb2dpbkNvbnRyb2xzID0gW107XG5cbiAgICAgICAgY29uc3QgbGRhcEVuYWJsZWQgPSB0aGlzLnN0YXRlLmxkYXBFbmFibGVkO1xuICAgICAgICBjb25zdCBnaXRsYWJTaWduaW5FbmFibGVkID0gdGhpcy5wcm9wcy5lbmFibGVTaWduVXBXaXRoR2l0TGFiO1xuICAgICAgICBjb25zdCBnb29nbGVTaWduaW5FbmFibGVkID0gdGhpcy5wcm9wcy5lbmFibGVTaWduVXBXaXRoR29vZ2xlO1xuICAgICAgICBjb25zdCBvZmZpY2UzNjVTaWduaW5FbmFibGVkID0gdGhpcy5wcm9wcy5lbmFibGVTaWduVXBXaXRoT2ZmaWNlMzY1O1xuICAgICAgICBjb25zdCBzYW1sU2lnbmluRW5hYmxlZCA9IHRoaXMuc3RhdGUuc2FtbEVuYWJsZWQ7XG4gICAgICAgIGNvbnN0IHVzZXJuYW1lU2lnbmluRW5hYmxlZCA9IHRoaXMuc3RhdGUudXNlcm5hbWVTaWduaW5FbmFibGVkO1xuICAgICAgICBjb25zdCBlbWFpbFNpZ25pbkVuYWJsZWQgPSB0aGlzLnN0YXRlLmVtYWlsU2lnbmluRW5hYmxlZDtcblxuICAgICAgICBpZiAoZW1haWxTaWduaW5FbmFibGVkIHx8IHVzZXJuYW1lU2lnbmluRW5hYmxlZCB8fCBsZGFwRW5hYmxlZCkge1xuICAgICAgICAgICAgbGV0IGVycm9yQ2xhc3MgPSAnJztcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlcnZlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDbGFzcyA9ICcgaGFzLWVycm9yJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGxvZ2luQnV0dG9uID0gKFxuICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIGlkPSdsb2dpbi5zaWduSW4nXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdTaWduIGluJ1xuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5sb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgbG9naW5CdXR0b24gPVxuICAgICAgICAgICAgICAgICg8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZmEgZmEtcmVmcmVzaCBpY29uLS1yb3RhdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17VXRpbHMubG9jYWxpemVNZXNzYWdlKCdnZW5lcmljX2ljb25zLmxvYWRpbmcnLCAnTG9hZGluZyBJY29uJyl9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD0nbG9naW4uc2lnbkluTG9hZGluZydcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdTaWduaW5nIGluLi4uJ1xuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj4pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2dpbkNvbnRyb2xzLnB1c2goXG4gICAgICAgICAgICAgICAgPGZvcm1cbiAgICAgICAgICAgICAgICAgICAga2V5PSdsb2dpbkJveGVzJ1xuICAgICAgICAgICAgICAgICAgICBvblN1Ym1pdD17dGhpcy5wcmVTdWJtaXR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2lnbnVwX19lbWFpbC1jb250YWluZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1FcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yPXt0aGlzLnN0YXRlLnNlcnZlckVycm9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbj17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17J2Zvcm0tZ3JvdXAnICsgZXJyb3JDbGFzc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdsb2dpbklkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2Zvcm0tY29udHJvbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPSdsb2dpbklkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSdsb2dpbklkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5sb2dpbklkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVMb2dpbklkQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5jcmVhdGVMb2dpblBsYWNlaG9sZGVyKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWxsQ2hlY2s9J2ZhbHNlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvQ2FwaXRhbGl6ZT0nb2ZmJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvRm9jdXM9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eydmb3JtLWdyb3VwJyArIGVycm9yQ2xhc3N9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbG9naW5QYXNzd29yZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0ncGFzc3dvcmQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZm9ybS1jb250cm9sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9J3Bhc3N3b3JkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSdwYXNzd29yZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVBhc3N3b3JkQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17VXRpbHMubG9jYWxpemVNZXNzYWdlKCdsb2dpbi5wYXNzd29yZCcsICdQYXNzd29yZCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVsbENoZWNrPSdmYWxzZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZm9ybS1ncm91cCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbG9naW5CdXR0b24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J3N1Ym1pdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdidG4gYnRuLXByaW1hcnknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGxvZ2luQnV0dG9uIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZW5hYmxlT3BlblNlcnZlciAmJiB0aGlzLmNoZWNrU2lnblVwRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBsb2dpbkNvbnRyb2xzLnB1c2goXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2Zvcm0tZ3JvdXAnXG4gICAgICAgICAgICAgICAgICAgIGtleT0nc2lnbnVwJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdsb2dpbi5ub0FjY291bnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9XCJEb24ndCBoYXZlIGFuIGFjY291bnQ/IFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nc2lnbnVwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvPXsnL3NpZ251cF91c2VyX2NvbXBsZXRlJyArIHRoaXMucHJvcHMubG9jYXRpb24uc2VhcmNofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2lnbnVwLXRlYW0tbG9naW4nXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2xvZ2luLmNyZWF0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0NyZWF0ZSBvbmUgbm93J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXNlcm5hbWVTaWduaW5FbmFibGVkIHx8IGVtYWlsU2lnbmluRW5hYmxlZCkge1xuICAgICAgICAgICAgbG9naW5Db250cm9scy5wdXNoKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PSdmb3Jnb3RQYXNzd29yZCdcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmb3JtLWdyb3VwJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPExpbmsgdG89eycvcmVzZXRfcGFzc3dvcmQnfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2xvZ2luLmZvcmdvdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nSSBmb3Jnb3QgbXkgcGFzc3dvcmQnXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChlbWFpbFNpZ25pbkVuYWJsZWQgfHwgdXNlcm5hbWVTaWduaW5FbmFibGVkIHx8IGxkYXBFbmFibGVkKSAmJiAoZ2l0bGFiU2lnbmluRW5hYmxlZCB8fCBnb29nbGVTaWduaW5FbmFibGVkIHx8IHNhbWxTaWduaW5FbmFibGVkIHx8IG9mZmljZTM2NVNpZ25pbkVuYWJsZWQpKSB7XG4gICAgICAgICAgICBsb2dpbkNvbnRyb2xzLnB1c2goXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9J2RpdmlkZXInXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nb3JfX2NvbnRhaW5lcidcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD0nbG9naW4ub3InXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nb3InXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBsb2dpbkNvbnRyb2xzLnB1c2goXG4gICAgICAgICAgICAgICAgPGg1IGtleT0nb2F1dGhIZWFkZXInPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2xvZ2luLnNpZ25JbldpdGgnXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nU2lnbiBpbiB3aXRoOidcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2g1PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnaXRsYWJTaWduaW5FbmFibGVkKSB7XG4gICAgICAgICAgICBsb2dpbkNvbnRyb2xzLnB1c2goXG4gICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdidG4gYnRuLWN1c3RvbS1sb2dpbiBnaXRsYWInXG4gICAgICAgICAgICAgICAgICAgIGtleT0nZ2l0bGFiJ1xuICAgICAgICAgICAgICAgICAgICBocmVmPXtDbGllbnQ0LmdldE9BdXRoUm91dGUoKSArICcvZ2l0bGFiL2xvZ2luJyArIHRoaXMucHJvcHMubG9jYXRpb24uc2VhcmNofVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2ljb24nLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdsb2dpbi5naXRsYWInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdHaXRMYWInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ29vZ2xlU2lnbmluRW5hYmxlZCkge1xuICAgICAgICAgICAgbG9naW5Db250cm9scy5wdXNoKFxuICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnRuIGJ0bi1jdXN0b20tbG9naW4gZ29vZ2xlJ1xuICAgICAgICAgICAgICAgICAgICBrZXk9J2dvb2dsZSdcbiAgICAgICAgICAgICAgICAgICAgaHJlZj17Q2xpZW50NC5nZXRPQXV0aFJvdXRlKCkgKyAnL2dvb2dsZS9sb2dpbicgKyB0aGlzLnByb3BzLmxvY2F0aW9uLnNlYXJjaH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdpY29uJy8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbG9naW4uZ29vZ2xlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nR29vZ2xlIEFwcHMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob2ZmaWNlMzY1U2lnbmluRW5hYmxlZCkge1xuICAgICAgICAgICAgbG9naW5Db250cm9scy5wdXNoKFxuICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnRuIGJ0bi1jdXN0b20tbG9naW4gb2ZmaWNlMzY1J1xuICAgICAgICAgICAgICAgICAgICBrZXk9J29mZmljZTM2NSdcbiAgICAgICAgICAgICAgICAgICAgaHJlZj17Q2xpZW50NC5nZXRPQXV0aFJvdXRlKCkgKyAnL29mZmljZTM2NS9sb2dpbicgKyB0aGlzLnByb3BzLmxvY2F0aW9uLnNlYXJjaH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdpY29uJy8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbG9naW4ub2ZmaWNlMzY1J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nT2ZmaWNlIDM2NSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzYW1sU2lnbmluRW5hYmxlZCkge1xuICAgICAgICAgICAgbG9naW5Db250cm9scy5wdXNoKFxuICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnRuIGJ0bi1jdXN0b20tbG9naW4gc2FtbCdcbiAgICAgICAgICAgICAgICAgICAga2V5PSdzYW1sJ1xuICAgICAgICAgICAgICAgICAgICBocmVmPXtDbGllbnQ0LmdldFVybCgpICsgJy9sb2dpbi9zc28vc2FtbCcgKyB0aGlzLnByb3BzLmxvY2F0aW9uLnNlYXJjaH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ljb24gZmEgZmEtbG9jayBmYS0tbWFyZ2luLXRvcCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT0nU2FtbCBpY29uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnNhbWxMb2dpbkJ1dHRvblRleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvZ2luQ29udHJvbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBsb2dpbkNvbnRyb2xzLnB1c2goXG4gICAgICAgICAgICAgICAgPEZvcm1FcnJvclxuICAgICAgICAgICAgICAgICAgICBrZXk9J25vTWV0aG9kcydcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I9e1xuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbG9naW4ubm9NZXRob2RzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdObyBzaWduLWluIG1ldGhvZHMgYXJlIGVuYWJsZWQuIFBsZWFzZSBjb250YWN0IHlvdXIgU3lzdGVtIEFkbWluaXN0cmF0b3IuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXJnaW49e3RydWV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICB7dGhpcy5jcmVhdGVFeHRyYVRleHQoKX1cbiAgICAgICAgICAgICAgICB7bG9naW5Db250cm9sc31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGhpZGVNZmEgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dNZmE6IGZhbHNlfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjdXN0b21EZXNjcmlwdGlvblRleHQsXG4gICAgICAgICAgICBzaXRlTmFtZSxcbiAgICAgICAgICAgIGluaXRpYWxpemluZyxcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgaWYgKGluaXRpYWxpemluZykge1xuICAgICAgICAgICAgcmV0dXJuICg8TG9hZGluZ1NjcmVlbi8+KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjb250ZW50O1xuICAgICAgICBsZXQgY3VzdG9tQ29udGVudDtcbiAgICAgICAgbGV0IGN1c3RvbUNsYXNzO1xuICAgICAgICBsZXQgYmFja0J1dHRvbjtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2hvd01mYSkge1xuICAgICAgICAgICAgY29udGVudCA9IChcbiAgICAgICAgICAgICAgICA8TG9naW5NZmFcbiAgICAgICAgICAgICAgICAgICAgbG9naW5JZD17dGhpcy5zdGF0ZS5sb2dpbklkfVxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD17dGhpcy5zdGF0ZS5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgc3VibWl0PXt0aGlzLnN1Ym1pdH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJhY2tCdXR0b24gPSAoPEJhY2tCdXR0b24gb25DbGljaz17dGhpcy5oaWRlTWZhfS8+KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSB0aGlzLmNyZWF0ZUxvZ2luT3B0aW9ucygpO1xuICAgICAgICAgICAgY3VzdG9tQ29udGVudCA9IHRoaXMuY3JlYXRlQ3VzdG9tTG9naW4oKTtcbiAgICAgICAgICAgIGlmIChjdXN0b21Db250ZW50KSB7XG4gICAgICAgICAgICAgICAgY3VzdG9tQ2xhc3MgPSAnYnJhbmRlZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8QW5ub3VuY2VtZW50QmFyLz5cbiAgICAgICAgICAgICAgICB7YmFja0J1dHRvbn1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLXNtLTEyJz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eydzaWdudXAtdGVhbV9fY29udGFpbmVyICcgKyBjdXN0b21DbGFzc30+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2lnbnVwX19tYXJrZG93bic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1c3RvbUNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NpZ251cC10ZWFtLWxvZ28nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtsb2dvSW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NpZ251cF9fY29udGVudCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNpdGVOYW1lQW5kRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tRGVzY3JpcHRpb25UZXh0PXtjdXN0b21EZXNjcmlwdGlvblRleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVOYW1lPXtzaXRlTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb250ZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmplY3RJbnRsKExvZ2luQ29udHJvbGxlcik7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBekJBO0FBNkJBOzs7QUFFQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUZBO0FBdUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxGQTtBQW9GQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFkQTtBQWdCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQTlHQTtBQWdIQTtBQURBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUZBO0FBRkE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFGQTtBQUZBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFuTUE7QUFxTUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFKQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFKQTtBQVVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvUEE7QUFpUUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbFJBO0FBb1JBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUF4UkE7QUEwUkE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQTlSQTtBQWdTQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBREE7QUFJQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxUQTtBQW9UQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuVkE7QUFxVkE7QUFNQTtBQUNBO0FBNVZBO0FBOFZBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBaldBO0FBbVdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFGQTtBQU1BO0FBQ0E7QUFGQTtBQU1BO0FBQ0E7QUFDQTtBQUhBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFGQTtBQU9BO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUhBO0FBU0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFGQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUZBO0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN2NBO0FBK2NBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFDQTtBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFJQTtBQUFBO0FBRUE7QUFDQTtBQUZBO0FBSUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFhQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFZQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFGQTtBQU1BO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUZBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFJQTtBQUFBO0FBRUE7QUFDQTtBQUZBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRkE7QUFPQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFBQTtBQUdBO0FBQ0E7QUFGQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUFBO0FBR0E7QUFDQTtBQUZBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQUE7QUFHQTtBQUNBO0FBRkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUZBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFSQTtBQVdBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUE5c0JBO0FBZ3RCQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBL3NCQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBUkE7QUFtQkE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBK29CQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFGQTtBQUlBO0FBQUE7QUFFQTtBQUNBO0FBRkE7QUFVQTs7OztBQTV5QkE7QUFDQTtBQTh5QkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/login/login_controller/login_controller.jsx\n");

/***/ }),

/***/ "./components/login/login_mfa.jsx":
/*!****************************************!*\
  !*** ./components/login/login_mfa.jsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LoginMfa; });\n/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ \"./node_modules/core-js/modules/es7.symbol.async-iterator.js\");\n/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.symbol */ \"./node_modules/core-js/modules/es6.symbol.js\");\n/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.regexp.replace */ \"./node_modules/core-js/modules/es6.regexp.replace.js\");\n/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-intl */ \"./node_modules/react-intl/lib/index.es.js\");\n/* harmony import */ var utils_utils_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! utils/utils.jsx */ \"./utils/utils.jsx\");\n/* harmony import */ var components_save_button_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/save_button.jsx */ \"./components/save_button.jsx\");\n\n\n\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\n\n\n\n\n\nvar LoginMfa =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(LoginMfa, _React$PureComponent);\n\n  function LoginMfa(props) {\n    var _this;\n\n    _classCallCheck(this, LoginMfa);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginMfa).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleChange\", function (e) {\n      e.preventDefault();\n      var token = e.target.value.trim().replace(/\\s/g, '');\n\n      if (token !== _this.state.token) {\n        _this.setState({\n          token: token\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSubmit\", function (e) {\n      e.preventDefault();\n      var state = {};\n      state.serverError = '';\n      state.saving = true;\n\n      _this.setState(state);\n\n      _this.props.submit(_this.props.loginId, _this.props.password, _this.state.token);\n    });\n\n    _this.state = {\n      saving: false,\n      token: '',\n      serverError: ''\n    };\n    return _this;\n  }\n\n  _createClass(LoginMfa, [{\n    key: \"render\",\n    value: function render() {\n      var serverError;\n      var errorClass = '';\n\n      if (this.state.serverError) {\n        serverError = react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"label\", {\n          className: \"control-label\"\n        }, this.state.serverError);\n        errorClass = ' has-error';\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"form\", {\n        onSubmit: this.handleSubmit\n      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n        className: \"signup__email-container\"\n      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"p\", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_5__[\"FormattedMessage\"], {\n        id: \"login_mfa.enterToken\",\n        defaultMessage: \"To complete the sign in process, please enter a token from your smartphone's authenticator\"\n      })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n        className: 'form-group' + errorClass\n      }, serverError), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n        className: 'form-group' + errorClass\n      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"token\",\n        placeholder: Object(utils_utils_jsx__WEBPACK_IMPORTED_MODULE_6__[\"localizeMessage\"])('login_mfa.token', 'MFA Token'),\n        spellCheck: \"false\",\n        autoComplete: \"off\",\n        autoFocus: true,\n        onChange: this.handleChange\n      })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n        className: \"form-group\"\n      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(components_save_button_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n        saving: this.state.saving,\n        disabled: this.state.saving,\n        onClick: this.handleSubmit,\n        defaultMessage: Object(utils_utils_jsx__WEBPACK_IMPORTED_MODULE_6__[\"localizeMessage\"])('login_mfa.submit', 'Submit'),\n        savingMessage: Object(utils_utils_jsx__WEBPACK_IMPORTED_MODULE_6__[\"localizeMessage\"])('login_mfa.submitting', 'Submitting...')\n      }))));\n    }\n  }]);\n\n  return LoginMfa;\n}(react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent);\n\n_defineProperty(LoginMfa, \"propTypes\", {\n  /*\n   * User's login ID\n   */\n  loginId: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,\n\n  /*\n   * User's password\n   */\n  password: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,\n\n  /*\n   * Function to call when submitting user credentials\n   */\n  submit: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL2xvZ2luL2xvZ2luX21mYS5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2xvZ2luL2xvZ2luX21mYS5qc3g/NGVlOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtGb3JtYXR0ZWRNZXNzYWdlfSBmcm9tICdyZWFjdC1pbnRsJztcblxuaW1wb3J0IHtsb2NhbGl6ZU1lc3NhZ2V9IGZyb20gJ3V0aWxzL3V0aWxzLmpzeCc7XG5pbXBvcnQgU2F2ZUJ1dHRvbiBmcm9tICdjb21wb25lbnRzL3NhdmVfYnV0dG9uLmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvZ2luTWZhIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcblxuICAgICAgICAvKlxuICAgICAgICAgKiBVc2VyJ3MgbG9naW4gSURcbiAgICAgICAgICovXG4gICAgICAgIGxvZ2luSWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblxuICAgICAgICAvKlxuICAgICAgICAgKiBVc2VyJ3MgcGFzc3dvcmRcbiAgICAgICAgICovXG4gICAgICAgIHBhc3N3b3JkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cbiAgICAgICAgLypcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHN1Ym1pdHRpbmcgdXNlciBjcmVkZW50aWFsc1xuICAgICAgICAgKi9cbiAgICAgICAgc3VibWl0OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIH07XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHNhdmluZzogZmFsc2UsXG4gICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICBzZXJ2ZXJFcnJvcjogJycsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFuZGxlQ2hhbmdlID0gKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB0b2tlbiA9IGUudGFyZ2V0LnZhbHVlLnRyaW0oKS5yZXBsYWNlKC9cXHMvZywgJycpO1xuXG4gICAgICAgIGlmICh0b2tlbiAhPT0gdGhpcy5zdGF0ZS50b2tlbikge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVN1Ym1pdCA9IChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7fTtcblxuICAgICAgICBzdGF0ZS5zZXJ2ZXJFcnJvciA9ICcnO1xuICAgICAgICBzdGF0ZS5zYXZpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcblxuICAgICAgICB0aGlzLnByb3BzLnN1Ym1pdChcbiAgICAgICAgICAgIHRoaXMucHJvcHMubG9naW5JZCxcbiAgICAgICAgICAgIHRoaXMucHJvcHMucGFzc3dvcmQsXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnRva2VuXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQgc2VydmVyRXJyb3I7XG4gICAgICAgIGxldCBlcnJvckNsYXNzID0gJyc7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlcnZlckVycm9yKSB7XG4gICAgICAgICAgICBzZXJ2ZXJFcnJvciA9IDxsYWJlbCBjbGFzc05hbWU9J2NvbnRyb2wtbGFiZWwnPnt0aGlzLnN0YXRlLnNlcnZlckVycm9yfTwvbGFiZWw+O1xuICAgICAgICAgICAgZXJyb3JDbGFzcyA9ICcgaGFzLWVycm9yJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzaWdudXBfX2VtYWlsLWNvbnRhaW5lcic+XG4gICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbG9naW5fbWZhLmVudGVyVG9rZW4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9XCJUbyBjb21wbGV0ZSB0aGUgc2lnbiBpbiBwcm9jZXNzLCBwbGVhc2UgZW50ZXIgYSB0b2tlbiBmcm9tIHlvdXIgc21hcnRwaG9uZSdzIGF1dGhlbnRpY2F0b3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17J2Zvcm0tZ3JvdXAnICsgZXJyb3JDbGFzc30+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VydmVyRXJyb3J9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17J2Zvcm0tZ3JvdXAnICsgZXJyb3JDbGFzc30+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZm9ybS1jb250cm9sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9J3Rva2VuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtsb2NhbGl6ZU1lc3NhZ2UoJ2xvZ2luX21mYS50b2tlbicsICdNRkEgVG9rZW4nKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVsbENoZWNrPSdmYWxzZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9J29mZidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvRm9jdXM9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmb3JtLWdyb3VwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTYXZlQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2aW5nPXt0aGlzLnN0YXRlLnNhdmluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5zYXZpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVTdWJtaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9e2xvY2FsaXplTWVzc2FnZSgnbG9naW5fbWZhLnN1Ym1pdCcsICdTdWJtaXQnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZpbmdNZXNzYWdlPXtsb2NhbGl6ZU1lc3NhZ2UoJ2xvZ2luX21mYS5zdWJtaXR0aW5nJywgJ1N1Ym1pdHRpbmcuLi4nKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICApO1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQW1CQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUZBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFwQkE7QUFzQkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFoQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUhBO0FBUUE7QUFDQTs7O0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUZBO0FBS0E7QUFBQTtBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFXQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBV0E7Ozs7QUFuR0E7QUFDQTtBQURBO0FBR0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQWZBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/login/login_mfa.jsx\n");

/***/ }),

/***/ "./node_modules/babel-loader/lib/index.js?!./components/login/login_controller/index.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib??ref--4!./components/login/login_controller/index.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux */ \"./node_modules/redux/es/redux.js\");\n/* harmony import */ var mattermost_redux_selectors_entities_general__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mattermost-redux/selectors/entities/general */ \"./node_modules/mattermost-redux/selectors/entities/general.js\");\n/* harmony import */ var mattermost_redux_selectors_entities_general__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mattermost_redux_selectors_entities_general__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var mattermost_redux_selectors_entities_teams__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mattermost-redux/selectors/entities/teams */ \"./node_modules/mattermost-redux/selectors/entities/teams.js\");\n/* harmony import */ var mattermost_redux_selectors_entities_teams__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(mattermost_redux_selectors_entities_teams__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var mattermost_redux_selectors_entities_users__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mattermost-redux/selectors/entities/users */ \"./node_modules/mattermost-redux/selectors/entities/users.js\");\n/* harmony import */ var mattermost_redux_selectors_entities_users__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(mattermost_redux_selectors_entities_users__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var mattermost_redux_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mattermost-redux/constants */ \"./node_modules/mattermost-redux/constants/index.js\");\n/* harmony import */ var mattermost_redux_constants__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(mattermost_redux_constants__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var actions_views_login__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! actions/views/login */ \"./actions/views/login.js\");\n/* harmony import */ var _login_controller_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./login_controller.jsx */ \"./components/login/login_controller/login_controller.jsx\");\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\n\n\n\n\n\n\n\n\nfunction mapStateToProps(state) {\n  var config = Object(mattermost_redux_selectors_entities_general__WEBPACK_IMPORTED_MODULE_2__[\"getConfig\"])(state);\n  var license = Object(mattermost_redux_selectors_entities_general__WEBPACK_IMPORTED_MODULE_2__[\"getLicense\"])(state);\n  var isLicensed = license.IsLicensed === 'true';\n  var customBrandText = config.CustomBrandText;\n  var customDescriptionText = config.CustomDescriptionText;\n  var enableCustomBrand = config.EnableCustomBrand === 'true';\n  var enableLdap = config.EnableLdap === 'true';\n  var enableOpenServer = config.EnableOpenServer === 'true';\n  var enableSaml = config.EnableSaml === 'true';\n  var enableSignInWithEmail = config.EnableSignInWithEmail === 'true';\n  var enableSignInWithUsername = config.EnableSignInWithUsername === 'true';\n  var enableSignUpWithEmail = config.EnableSignUpWithEmail === 'true';\n  var enableSignUpWithGitLab = config.EnableSignUpWithGitLab === 'true';\n  var enableSignUpWithGoogle = config.EnableSignUpWithGoogle === 'true';\n  var enableSignUpWithOffice365 = config.EnableSignUpWithOffice365 === 'true';\n  var ldapLoginFieldName = config.LdapLoginFieldName;\n  var samlLoginButtonText = config.SamlLoginButtonText;\n  var siteName = config.SiteName;\n  var initializing = state.requests.users.logout.status === mattermost_redux_constants__WEBPACK_IMPORTED_MODULE_5__[\"RequestStatus\"].SUCCESS || !state.storage.initialized; // Only set experimental team if user is on that team\n\n  var experimentalPrimaryTeam = config.ExperimentalPrimaryTeam;\n\n  if (experimentalPrimaryTeam) {\n    var team = Object(mattermost_redux_selectors_entities_teams__WEBPACK_IMPORTED_MODULE_3__[\"getTeamByName\"])(state, experimentalPrimaryTeam);\n\n    if (team) {\n      var member = Object(mattermost_redux_selectors_entities_teams__WEBPACK_IMPORTED_MODULE_3__[\"getMyTeamMember\"])(state, team.id);\n\n      if (!member || !member.team_id) {\n        experimentalPrimaryTeam = null;\n      }\n    } else {\n      experimentalPrimaryTeam = null;\n    }\n  }\n\n  return {\n    currentUser: Object(mattermost_redux_selectors_entities_users__WEBPACK_IMPORTED_MODULE_4__[\"getCurrentUser\"])(state),\n    isLicensed: isLicensed,\n    customBrandText: customBrandText,\n    customDescriptionText: customDescriptionText,\n    enableCustomBrand: enableCustomBrand,\n    enableLdap: enableLdap,\n    enableOpenServer: enableOpenServer,\n    enableSaml: enableSaml,\n    enableSignInWithEmail: enableSignInWithEmail,\n    enableSignInWithUsername: enableSignInWithUsername,\n    enableSignUpWithEmail: enableSignUpWithEmail,\n    enableSignUpWithGitLab: enableSignUpWithGitLab,\n    enableSignUpWithGoogle: enableSignUpWithGoogle,\n    enableSignUpWithOffice365: enableSignUpWithOffice365,\n    experimentalPrimaryTeam: experimentalPrimaryTeam,\n    ldapLoginFieldName: ldapLoginFieldName,\n    samlLoginButtonText: samlLoginButtonText,\n    siteName: siteName,\n    initializing: initializing\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: Object(redux__WEBPACK_IMPORTED_MODULE_1__[\"bindActionCreators\"])({\n      login: actions_views_login__WEBPACK_IMPORTED_MODULE_6__[\"login\"]\n    }, dispatch)\n  };\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__[\"connect\"])(mapStateToProps, mapDispatchToProps)(_login_controller_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8hLi9jb21wb25lbnRzL2xvZ2luL2xvZ2luX2NvbnRyb2xsZXIvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2xvZ2luL2xvZ2luX2NvbnRyb2xsZXIvaW5kZXguanM/OGVmZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHtiaW5kQWN0aW9uQ3JlYXRvcnN9IGZyb20gJ3JlZHV4JztcblxuaW1wb3J0IHtnZXRDb25maWcsIGdldExpY2Vuc2V9IGZyb20gJ21hdHRlcm1vc3QtcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2dlbmVyYWwnO1xuaW1wb3J0IHtnZXRUZWFtQnlOYW1lLCBnZXRNeVRlYW1NZW1iZXJ9IGZyb20gJ21hdHRlcm1vc3QtcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3RlYW1zJztcbmltcG9ydCB7Z2V0Q3VycmVudFVzZXJ9IGZyb20gJ21hdHRlcm1vc3QtcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3VzZXJzJztcbmltcG9ydCB7UmVxdWVzdFN0YXR1c30gZnJvbSAnbWF0dGVybW9zdC1yZWR1eC9jb25zdGFudHMnO1xuXG5pbXBvcnQge2xvZ2lufSBmcm9tICdhY3Rpb25zL3ZpZXdzL2xvZ2luJztcblxuaW1wb3J0IExvZ2luQ29udHJvbGxlciBmcm9tICcuL2xvZ2luX2NvbnRyb2xsZXIuanN4JztcblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKHN0YXRlKTtcbiAgICBjb25zdCBsaWNlbnNlID0gZ2V0TGljZW5zZShzdGF0ZSk7XG5cbiAgICBjb25zdCBpc0xpY2Vuc2VkID0gbGljZW5zZS5Jc0xpY2Vuc2VkID09PSAndHJ1ZSc7XG5cbiAgICBjb25zdCBjdXN0b21CcmFuZFRleHQgPSBjb25maWcuQ3VzdG9tQnJhbmRUZXh0O1xuICAgIGNvbnN0IGN1c3RvbURlc2NyaXB0aW9uVGV4dCA9IGNvbmZpZy5DdXN0b21EZXNjcmlwdGlvblRleHQ7XG4gICAgY29uc3QgZW5hYmxlQ3VzdG9tQnJhbmQgPSBjb25maWcuRW5hYmxlQ3VzdG9tQnJhbmQgPT09ICd0cnVlJztcbiAgICBjb25zdCBlbmFibGVMZGFwID0gY29uZmlnLkVuYWJsZUxkYXAgPT09ICd0cnVlJztcbiAgICBjb25zdCBlbmFibGVPcGVuU2VydmVyID0gY29uZmlnLkVuYWJsZU9wZW5TZXJ2ZXIgPT09ICd0cnVlJztcbiAgICBjb25zdCBlbmFibGVTYW1sID0gY29uZmlnLkVuYWJsZVNhbWwgPT09ICd0cnVlJztcbiAgICBjb25zdCBlbmFibGVTaWduSW5XaXRoRW1haWwgPSBjb25maWcuRW5hYmxlU2lnbkluV2l0aEVtYWlsID09PSAndHJ1ZSc7XG4gICAgY29uc3QgZW5hYmxlU2lnbkluV2l0aFVzZXJuYW1lID0gY29uZmlnLkVuYWJsZVNpZ25JbldpdGhVc2VybmFtZSA9PT0gJ3RydWUnO1xuICAgIGNvbnN0IGVuYWJsZVNpZ25VcFdpdGhFbWFpbCA9IGNvbmZpZy5FbmFibGVTaWduVXBXaXRoRW1haWwgPT09ICd0cnVlJztcbiAgICBjb25zdCBlbmFibGVTaWduVXBXaXRoR2l0TGFiID0gY29uZmlnLkVuYWJsZVNpZ25VcFdpdGhHaXRMYWIgPT09ICd0cnVlJztcbiAgICBjb25zdCBlbmFibGVTaWduVXBXaXRoR29vZ2xlID0gY29uZmlnLkVuYWJsZVNpZ25VcFdpdGhHb29nbGUgPT09ICd0cnVlJztcbiAgICBjb25zdCBlbmFibGVTaWduVXBXaXRoT2ZmaWNlMzY1ID0gY29uZmlnLkVuYWJsZVNpZ25VcFdpdGhPZmZpY2UzNjUgPT09ICd0cnVlJztcbiAgICBjb25zdCBsZGFwTG9naW5GaWVsZE5hbWUgPSBjb25maWcuTGRhcExvZ2luRmllbGROYW1lO1xuICAgIGNvbnN0IHNhbWxMb2dpbkJ1dHRvblRleHQgPSBjb25maWcuU2FtbExvZ2luQnV0dG9uVGV4dDtcbiAgICBjb25zdCBzaXRlTmFtZSA9IGNvbmZpZy5TaXRlTmFtZTtcbiAgICBjb25zdCBpbml0aWFsaXppbmcgPSBzdGF0ZS5yZXF1ZXN0cy51c2Vycy5sb2dvdXQuc3RhdHVzID09PSBSZXF1ZXN0U3RhdHVzLlNVQ0NFU1MgfHwgIXN0YXRlLnN0b3JhZ2UuaW5pdGlhbGl6ZWQ7XG5cbiAgICAvLyBPbmx5IHNldCBleHBlcmltZW50YWwgdGVhbSBpZiB1c2VyIGlzIG9uIHRoYXQgdGVhbVxuICAgIGxldCBleHBlcmltZW50YWxQcmltYXJ5VGVhbSA9IGNvbmZpZy5FeHBlcmltZW50YWxQcmltYXJ5VGVhbTtcbiAgICBpZiAoZXhwZXJpbWVudGFsUHJpbWFyeVRlYW0pIHtcbiAgICAgICAgY29uc3QgdGVhbSA9IGdldFRlYW1CeU5hbWUoc3RhdGUsIGV4cGVyaW1lbnRhbFByaW1hcnlUZWFtKTtcbiAgICAgICAgaWYgKHRlYW0pIHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWJlciA9IGdldE15VGVhbU1lbWJlcihzdGF0ZSwgdGVhbS5pZCk7XG4gICAgICAgICAgICBpZiAoIW1lbWJlciB8fCAhbWVtYmVyLnRlYW1faWQpIHtcbiAgICAgICAgICAgICAgICBleHBlcmltZW50YWxQcmltYXJ5VGVhbSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHBlcmltZW50YWxQcmltYXJ5VGVhbSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjdXJyZW50VXNlcjogZ2V0Q3VycmVudFVzZXIoc3RhdGUpLFxuICAgICAgICBpc0xpY2Vuc2VkLFxuICAgICAgICBjdXN0b21CcmFuZFRleHQsXG4gICAgICAgIGN1c3RvbURlc2NyaXB0aW9uVGV4dCxcbiAgICAgICAgZW5hYmxlQ3VzdG9tQnJhbmQsXG4gICAgICAgIGVuYWJsZUxkYXAsXG4gICAgICAgIGVuYWJsZU9wZW5TZXJ2ZXIsXG4gICAgICAgIGVuYWJsZVNhbWwsXG4gICAgICAgIGVuYWJsZVNpZ25JbldpdGhFbWFpbCxcbiAgICAgICAgZW5hYmxlU2lnbkluV2l0aFVzZXJuYW1lLFxuICAgICAgICBlbmFibGVTaWduVXBXaXRoRW1haWwsXG4gICAgICAgIGVuYWJsZVNpZ25VcFdpdGhHaXRMYWIsXG4gICAgICAgIGVuYWJsZVNpZ25VcFdpdGhHb29nbGUsXG4gICAgICAgIGVuYWJsZVNpZ25VcFdpdGhPZmZpY2UzNjUsXG4gICAgICAgIGV4cGVyaW1lbnRhbFByaW1hcnlUZWFtLFxuICAgICAgICBsZGFwTG9naW5GaWVsZE5hbWUsXG4gICAgICAgIHNhbWxMb2dpbkJ1dHRvblRleHQsXG4gICAgICAgIHNpdGVOYW1lLFxuICAgICAgICBpbml0aWFsaXppbmcsXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aW9uczogYmluZEFjdGlvbkNyZWF0b3JzKHtcbiAgICAgICAgICAgIGxvZ2luLFxuICAgICAgICB9LCBkaXNwYXRjaCksXG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoTG9naW5Db250cm9sbGVyKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFLQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/babel-loader/lib/index.js?!./components/login/login_controller/index.js\n");

/***/ })

}]);